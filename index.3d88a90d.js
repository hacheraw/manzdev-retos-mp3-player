const T=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))c(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const p of i.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&c(p)}).observe(document,{childList:!0,subtree:!0});function o(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function c(r){if(r.ep)return;r.ep=!0;const i=o(r);fetch(r.href,i)}};T();var l=[{title:"Monkey Island Theme",artist:"Michael Land",url:"https://scummbar.com/mi2/MI1-CD/01%20-%20Opening%20Themes%20-%20Introduction.mp3",image:"monkey.jpg"},{title:"The SCUMM Bar",artist:"Michael Land",url:"https://scummbar.com/mi2/MI1-CD/03%20-%20The%20Scumm%20Bar.mp3",image:"scummbar.jpg"},{title:"LeChuck's Theme",artist:"Michael Land",url:"https://scummbar.com/mi2/MI1-CD/04%20-%20LeChuck's%20Theme.mp3",image:"lechuck.jpg"},{title:"Monkey Island (Remix)",artist:"Michael Land",url:"https://scummbar.com/mi2/MI1-CD/26%20-%20Monkey%20Island%20-%20Rock%20Remix%202.mp3",image:"monkey-mix.jpg"}];const h=50,s=document.querySelector(".player"),n=s.querySelector("audio"),C=s.querySelector(".cover"),I=s.querySelector(".title"),R=s.querySelector(".artist"),x=s.querySelector(".prev"),S=s.querySelector(".play"),L=s.querySelector(".pause"),k=s.querySelector(".next"),z=s.querySelector(".lyrics"),m=s.querySelector(".progress"),w=m.querySelector(".bar"),O=s.querySelector(".current-time"),$=s.querySelector(".total-time"),d=s.querySelector(".lines"),y=document.querySelector(".playlist"),b=document.querySelectorAll(".loop"),v=document.querySelectorAll(".list"),j=[d];let u=!1,a=0;document.addEventListener("DOMContentLoaded",()=>{A(),E(l[a]),P()});S.addEventListener("click",()=>{n.play()});L.addEventListener("click",()=>{n.pause()});k.addEventListener("click",M);x.addEventListener("click",B);m.addEventListener("click",D);n.addEventListener("timeupdate",F);n.addEventListener("play",()=>{f()});n.addEventListener("pause",()=>{f()});n.addEventListener("ended",()=>{f(),M()});b.forEach(e=>e.addEventListener("click",()=>{u=!u,b.forEach(t=>t.classList.toggle("hide")),f()}));v.forEach(e=>e.addEventListener("click",()=>{y.classList.toggle("show"),v.forEach(t=>t.classList.toggle("hide"))}));function A(){l.forEach((e,t)=>{const o=document.createElement("div");o.textContent=`${e.artist} - ${e.title}`,o.addEventListener("click",()=>{a=t,g(e)}),y.appendChild(o)})}function E(e){const t=y.querySelectorAll("div");t.forEach(o=>{o.classList.remove("active")}),t[a].classList.add("active"),n.src=e.url,C.style.backgroundImage=`url(./assets/covers/${e.image})`,I.textContent=e.title,R.textContent=e.artist,z.textContent=e.lyrics,m.value=0}function M(){if(!u&&a===l.length-1)return;++a>=l.length&&(a=0);const e=l[a];n.src=e.url,g(e)}function B(){if(!u&&a===0)return;--a<0&&(a=l.length-1);const e=l[a];n.src=e.url,g(e)}function g(e){f(),E(e),n.play()}function D(e){const t=m.clientWidth,o=e.offsetX,c=n.duration;w.style.width=`${o/t*100}%`,n.currentTime=o/t*c}function F(){n.paused||(N(),Y())}function N(){const e=n.duration,t=n.currentTime;t>0&&(w.style.width=`${t/e*100}%`);const o=String(Math.floor(t/60)).padStart(2,"0"),c=String(Math.floor(t%60)).padStart(2,"0"),r=String(Math.floor(e/60)).padStart(2,"0"),i=String(Math.floor(e%60)).padStart(2,"0"),p=`${o}:${c}`,q=`${r}:${i}`;O.innerHTML=p,$.innerHTML=isNaN(e)?"":q}function P(){const t=d.clientWidth/(h*1.5);for(let o=0;o<h;o++){const c=document.createElement("div");c.classList.add("line"),c.style.width=`${t}px`,c.style.height=0,d.appendChild(c)}}function Y(){d.style.display="flex";const e=d.querySelectorAll(".line"),t=d.clientHeight;e.forEach(o=>{o.style.height=`${Math.random()*t}px`})}function f(){S.style.display=n.paused?"inherit":"none",L.style.display=n.paused?"none":"inherit",j.forEach(e=>{e.style.opacity=n.paused?0:1}),k.style.color=!u&&a===l.length-1?"grey":"currentColor",x.style.color=!u&&a===0?"grey":"currentColor"}
